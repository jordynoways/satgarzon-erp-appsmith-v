INSERT INTO public.proveedores (id, nombre_fiscal, nombre_comercial, cif_nif, direccion, poblacion, provincia, codigo_postal, telefono, email, referencia)
VALUES (
  (SELECT COALESCE(MAX(id), 0) + 1 FROM public.proveedores),
  {{ this.params.nombre_fiscal || 'Sin Nombre' }},
  {{ this.params.nombre_comercial || null }},
  {{ this.params.cif_nif || null }},
  {{ this.params.direccion || null }},
  {{ this.params.poblacion || null }},
  {{ this.params.provincia || null }},
  {{ this.params.codigo_postal || null }},
  {{ this.params.telefono || null }},
  {{ this.params.email || null }},
  {{ this.params.referencia || null }}
)
RETURNING id;
